{"version":3,"file":"commonHelpers2.js","sources":["../src/hellpers/saveToLocalStorage.js","../src/hellpers/loadFromLocalStorage.js","../src/js/2-form.js"],"sourcesContent":["export const saveToLocalStorage = function (key, value) {\n  const jsonData = JSON.stringify(value);\n  localStorage.setItem(key, jsonData);\n};\n","export const loadFromLocalStorage = function (key) {\n  const json = localStorage.getItem(key);\n\n  try {\n    const data = JSON.parse(json);\n    return data;\n  } catch (error) {\n    return json;\n  }\n};\n","import { saveToLocalStorage } from '../hellpers/saveToLocalStorage';\nimport { loadFromLocalStorage } from '../hellpers/loadFromLocalStorage';\n\nconst LS_KEY = 'feedback-form-state';\n\nconst refs = {\n  form: document.querySelector('.feedback-form'),\n};\n\nconst formData = {\n  email: '',\n  message: '',\n};\n\nrefs.form.addEventListener('input', event => {\n  const dataFromForm = new FormData(event.currentTarget);\n\n  formData.email = dataFromForm.get('email').trim();\n  formData.message = dataFromForm.get('message').trim();\n\n  saveToLocalStorage(LS_KEY, formData);\n});\n\nwindow.addEventListener('DOMContentLoaded', () => {\n  const dataSet = loadFromLocalStorage(LS_KEY);\n\n  refs.form.elements.email.value = dataSet?.email ?? '';\n  refs.form.elements.message.value = dataSet?.message ?? '';\n});\n\nrefs.form.addEventListener('submit', event => {\n  event.preventDefault();\n\n  const email = refs.form.elements.email.value.trim();\n  const message = refs.form.elements.message.value.trim();\n\n  if (!email || !message) {\n    alert('«Fill please all fields»');\n  } else {\n    console.log(formData);\n  }\n\n  localStorage.removeItem(LS_KEY);\n\n  event.currentTarget.reset();\n});\n"],"names":["saveToLocalStorage","key","value","jsonData","loadFromLocalStorage","json","LS_KEY","refs","formData","event","dataFromForm","dataSet","email","message"],"mappings":"oDAAO,MAAMA,EAAqB,SAAUC,EAAKC,EAAO,CACtD,MAAMC,EAAW,KAAK,UAAUD,CAAK,EACrC,aAAa,QAAQD,EAAKE,CAAQ,CACpC,ECHaC,EAAuB,SAAUH,EAAK,CACjD,MAAMI,EAAO,aAAa,QAAQJ,CAAG,EAErC,GAAI,CAEF,OADa,KAAK,MAAMI,CAAI,CAE7B,MAAe,CACd,OAAOA,CACR,CACH,ECNMC,EAAS,sBAETC,EAAO,CACX,KAAM,SAAS,cAAc,gBAAgB,CAC/C,EAEMC,EAAW,CACf,MAAO,GACP,QAAS,EACX,EAEAD,EAAK,KAAK,iBAAiB,QAASE,GAAS,CAC3C,MAAMC,EAAe,IAAI,SAASD,EAAM,aAAa,EAErDD,EAAS,MAAQE,EAAa,IAAI,OAAO,EAAE,OAC3CF,EAAS,QAAUE,EAAa,IAAI,SAAS,EAAE,OAE/CV,EAAmBM,EAAQE,CAAQ,CACrC,CAAC,EAED,OAAO,iBAAiB,mBAAoB,IAAM,CAChD,MAAMG,EAAUP,EAAqBE,CAAM,EAE3CC,EAAK,KAAK,SAAS,MAAM,OAAQI,GAAA,YAAAA,EAAS,QAAS,GACnDJ,EAAK,KAAK,SAAS,QAAQ,OAAQI,GAAA,YAAAA,EAAS,UAAW,EACzD,CAAC,EAEDJ,EAAK,KAAK,iBAAiB,SAAUE,GAAS,CAC5CA,EAAM,eAAc,EAEpB,MAAMG,EAAQL,EAAK,KAAK,SAAS,MAAM,MAAM,OACvCM,EAAUN,EAAK,KAAK,SAAS,QAAQ,MAAM,OAE7C,CAACK,GAAS,CAACC,EACb,MAAM,0BAA0B,EAEhC,QAAQ,IAAIL,CAAQ,EAGtB,aAAa,WAAWF,CAAM,EAE9BG,EAAM,cAAc,OACtB,CAAC"}